{"version":3,"sources":["webpack:///./src/views/Detials.vue?e657","webpack:///./src/views/Detials.vue?e8a0","webpack:///src/views/Detials.vue","webpack:///./src/views/Detials.vue?b104","webpack:///./src/views/Detials.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","detial","good","top","tab","class","_v","_s","_f","_e","title","create_at","author","loginname","visit_count","proxy","domProps","content","staticStyle","reply_count","_l","comment","index","id","avatar_url","on","$event","ups","length","staticRenderFns","name","components","data","filters","formatTime","day","now","diff","oldTime","methods","component"],"mappings":"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","file":"js/chunk-30e5870c.6f0045db.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detials.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detials\"},[_c('Panel',{attrs:{\"width\":'90%'},scopedSlots:_vm._u([{key:\"panel-header\",fn:function(){return [_c('div',{staticClass:\"detial_title\"},[(_vm.detial.good || _vm.detial.top || _vm.detial.tab)?_c('span',{class:_vm.detial.top || _vm.detial.good ? 'active-tab' : 'tab'},[_vm._v(_vm._s(_vm._f(\"formatTab\")(_vm.detial)))]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.detial.title)+\" \")]),_c('div',{staticClass:\"detial_info\"},[_c('span',[_vm._v(\"发布于 \"+_vm._s(_vm._f(\"formatTime\")(_vm.detial.create_at)))]),(_vm.detial.author)?_c('span',[_vm._v(\"作者 \"+_vm._s(_vm.detial.author.loginname))]):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.detial.visit_count)+\" 次浏览\")]),_c('span',[_vm._v(\"来自 \"+_vm._s(_vm._f(\"formatTab\")(_vm.detial)))])])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"topicId\",domProps:{\"innerHTML\":_vm._s(_vm.detial.content)}})]},proxy:true}])}),_c('Panel',{attrs:{\"width\":'90%'},scopedSlots:_vm._u([{key:\"panel-header\",fn:function(){return [_c('div',{staticClass:\"nav\"},[_c('p',{staticStyle:{\"margin\":\"0px\"}},[_vm._v(_vm._s(_vm.detial.reply_count===0?'暂无':_vm.detial.reply_count)+\"回复\")])])]},proxy:true},{key:\"content\",fn:function(){return _vm._l((_vm.detial.replies),function(comment,index){return _c('div',{key:comment.id,staticClass:\"commentBox\"},[_c('div',{staticClass:\"comment_profile\"},[_c('img',{staticClass:\"headimg\",attrs:{\"src\":comment.author.avatar_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"comment_reply\"},[_c('div',{staticClass:\"comment_info\"},[_c('div',{staticClass:\"comment_date\"},[_c('span',[_vm._v(\" \"+_vm._s(comment.author.loginname)+\" \"+_vm._s(index + 1 + \"楼\")+\"•\"+_vm._s(_vm._f(\"formatTime\")(comment.create_at))+\" \")])]),_c('div',{staticClass:\"comment_icon\"},[_c('i',{staticClass:\"iconfont icon-dianzan\",attrs:{\"title\":\"点赞\"},on:{\"click\":function($event){return _vm.ups(comment.id)}}},[_c('span',{staticClass:\"up_count\"},[_vm._v(_vm._s(comment.ups.length))])]),_c('i',{staticClass:\"iconfont icon-icon_reply\",attrs:{\"title\":\"回复\"}})])]),_c('div',{staticClass:\"comment_content\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(comment.content)}})])])])})},proxy:true}])}),_c('Panel',{attrs:{\"width\":'90%'},scopedSlots:_vm._u([{key:\"panel-header\",fn:function(){return [_c('div',{staticClass:\"nav\"},[_c('p',{staticStyle:{\"margin\":\"0px\"}},[_vm._v(\"添加回复\")])])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"editor\",attrs:{\"id\":\"editor\"}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detials\">\r\n    <Panel :width=\"'90%'\">\r\n      <template #panel-header>\r\n        <div class=\"detial_title\">\r\n          <span v-if=\"detial.good || detial.top || detial.tab\"\r\n                :class=\"detial.top || detial.good ? 'active-tab' : 'tab'\">{{ detial | formatTab }}</span>\r\n          {{ detial.title }}\r\n        </div>\r\n        <div class=\"detial_info\">\r\n          <span>发布于 {{ detial.create_at | formatTime }}</span>\r\n          <span v-if=\"detial.author\">作者 {{ detial.author.loginname }}</span>\r\n          <span>{{ detial.visit_count }} 次浏览</span>\r\n          <span>来自 {{ detial | formatTab }}</span>\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <div v-html=\"detial.content\"\r\n             class=\"topicId\"></div>\r\n      </template>\r\n    </Panel>\r\n    <Panel :width=\"'90%'\">\r\n      <template #panel-header>\r\n        <div class=\"nav\">\r\n          <p style=\"margin: 0px\">{{ detial.reply_count===0?'暂无':detial.reply_count }}回复</p>\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <div v-for=\"(comment, index) in detial.replies\"\r\n             :key=\"comment.id\"\r\n             class=\"commentBox\">\r\n          <!-- <div class=\"author_content\">\r\n            <img :src=\"comment.author.avatar_url\"\r\n                 alt=\"\"\r\n                 class=\"headimg\" />\r\n            <span>\r\n              {{ comment.author.loginname }}\r\n              {{ index + 1 + \"楼\" }}•{{ comment.create_at | formatTime }}\r\n            </span>\r\n\r\n          </div>\r\n          <div class=\"comment_content\">\r\n            <span v-html=\"comment.content\"></span>\r\n          </div> -->\r\n          <div class=\"comment_profile\">\r\n            <img :src=\"comment.author.avatar_url\"\r\n                 alt=\"\"\r\n                 class=\"headimg\" />\r\n          </div>\r\n          <div class=\"comment_reply\">\r\n            <div class=\"comment_info\">\r\n              <div class=\"comment_date\">\r\n                <span>\r\n                  {{ comment.author.loginname }}\r\n                  {{ index + 1 + \"楼\" }}•{{ comment.create_at | formatTime }}\r\n                </span>\r\n              </div>\r\n              <div class=\"comment_icon\">\r\n                <i class=\"iconfont icon-dianzan\"\r\n                   @click=\"ups(comment.id)\"\r\n                   title=\"点赞\">\r\n                  <span class=\"up_count\">{{comment.ups.length}}</span>\r\n                </i>\r\n\r\n                <i class=\"iconfont icon-icon_reply\"\r\n                   title=\"回复\"></i>\r\n              </div>\r\n            </div>\r\n            <div class=\"comment_content\">\r\n              <span v-html=\"comment.content\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </Panel>\r\n    <Panel :width=\"'90%'\">\r\n      <template #panel-header>\r\n        <div class=\"nav\">\r\n          <p style=\"margin: 0px\">添加回复</p>\r\n        </div>\r\n      </template>\r\n      <template #content>\r\n        <div class=\"editor\"\r\n             id=\"editor\">\r\n\r\n        </div>\r\n      </template>\r\n    </Panel>\r\n    <!-- <Panel :width=\"'90%'\">\r\n      <template #panel-header>\r\n        <span>添加回复</span>\r\n      </template>\r\n      <template #content>\r\n       \r\n      </template>\r\n    </Panel> -->\r\n    <!-- <Editor\r\n      initialValue=\"<p>Initial editor content</p>\"\r\n      apiKey=\"w6kufjg31yal6ehgdtkralyp5kfl8k309sfivk4y96ftp8fk\"\r\n      :init=\"{\r\n        height: 500,\r\n        menubar: false,\r\n        plugins: [\r\n          'advlist autolink lists link image charmap',\r\n          'searchreplace visualblocks code fullscreen',\r\n          'print preview anchor insertdatetime media',\r\n          'paste code help wordcount table',\r\n        ],\r\n        toolbar:\r\n          'undo redo | formatselect | bold italic | \\\r\n        alignleft aligncenter alignright | \\\r\n        bullist numlist outdent indent | help',\r\n      }\"\r\n    >\r\n    </Editor> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Panel from \"../layout/Panel.vue\";\r\nimport moment from \"moment\";\r\n// import tinymce from \"tinymce\";\r\n// import { Editor } from \"@tinymce/tinymce-vue\";\r\n\r\nexport default {\r\n  name: \"\",\r\n  components: { Panel },\r\n  data () {\r\n    return {\r\n      detial: {},\r\n    };\r\n  },\r\n  async created () {\r\n    const res = await this.$axios.get(`/topic/${this.$route.query.id}`);\r\n    this.detial = res.data;\r\n    console.log(this.detial);\r\n  },\r\n  filters: {\r\n    formatTime (time) {\r\n      let oldTime = moment(time).format(\"YYYY-MM-DD HH:mm:ss\");\r\n      let now = moment();\r\n      // console.log(time);\r\n      // let time2 = moment;\r\n      let day = now.diff(oldTime, \"day\");\r\n      if (day > 30) {\r\n        return now.diff(oldTime, \"month\") + \"月前\";\r\n      } else return day + \"天前\";\r\n    },\r\n  },\r\n  methods: {\r\n    async ups (id) {\r\n      const res = await this.$axios.post(`/reply/${id}/up`)\r\n      console.log(id);\r\n      console.log(res);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style  lang=\"less\">\r\n.topicId,\r\n.commentBox {\r\n  img {\r\n    width: 90vh;\r\n  }\r\n  // width: 100%;\r\n  // border-bottom: 1px solid #cccccc;\r\n}\r\n.commentBox {\r\n  border-bottom: 1px solid #cccccc;\r\n  // .author_content {\r\n  //   span {\r\n  //     margin-left: 4px;\r\n  //     font-size: 10px;\r\n  //   }\r\n  // }\r\n  display: flex;\r\n  .comment_profile {\r\n    margin-top: 10px;\r\n  }\r\n  .comment_reply {\r\n    flex: 1;\r\n    padding: 5px 10px;\r\n    .comment_info {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .comment_date {\r\n        font-size: 12px;\r\n      }\r\n      .comment_icon i {\r\n        padding: 2px 5px;\r\n        cursor: pointer;\r\n        .up_count {\r\n          color: #808080;\r\n          font-size: 14px;\r\n        }\r\n      }\r\n    }\r\n    .comment_content {\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n}\r\n.commentBox .headimg {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 4px;\r\n}\r\n.detial_info {\r\n  font-size: 8px;\r\n  margin-top: 15px;\r\n  span {\r\n    color: #838383;\r\n    margin-right: 8px;\r\n  }\r\n  span::before {\r\n    // margin-right: 15px;\r\n    content: \"•\";\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detials.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detials.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detials.vue?vue&type=template&id=0065411a&\"\nimport script from \"./Detials.vue?vue&type=script&lang=js&\"\nexport * from \"./Detials.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detials.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}